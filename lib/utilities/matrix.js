"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.scaleMatrixFromScale = scaleMatrixFromScale;
exports.offsetsMatrixFromOffsets = offsetsMatrixFromOffsets;
exports.positionMatrixFromNothing = positionMatrixFromNothing;
exports.positionMatrixFromDistance = positionMatrixFromDistance;
exports.positionMatrixFromPosition = positionMatrixFromPosition;
exports.rotationsMatrixFromAngles = rotationsMatrixFromAngles;
exports.rotationsMatrixFromRotations = rotationsMatrixFromRotations;
exports.normalsMatrixFromRotationsMatrix = normalsMatrixFromRotationsMatrix;
exports.projectionMatrixFromCameraAndCanvas = projectionMatrixFromCameraAndCanvas;
var _vector = require("../maths/vector");
var _array = require("../utilities/array");
var _constants = require("../constants");
var _matrix = require("../maths/matrix");
function scaleMatrixFromScale(scale) {
    var scaleMatrix = (0, _matrix).identity4();
    scaleMatrix = (0, _matrix).scale4(scaleMatrix, scale);
    return scaleMatrix;
}
function offsetsMatrixFromOffsets(offsets) {
    var offsetsMatrix = (0, _matrix).identity4(); ///
    offsetsMatrix = (0, _matrix).translate4(offsetsMatrix, offsets);
    return offsetsMatrix;
}
function positionMatrixFromNothing() {
    var positionMatrix = (0, _matrix).identity4(); ///
    return positionMatrix;
}
function positionMatrixFromDistance(distance) {
    var positionMatrix = (0, _matrix).identity4(); ///
    var x = 0, y = 0, z = -distance;
    positionMatrix = (0, _matrix).translate4(positionMatrix, [
        x,
        y,
        z
    ]);
    return positionMatrix;
}
function positionMatrixFromPosition(position) {
    var positionMatrix = (0, _matrix).identity4(); ///
    positionMatrix = (0, _matrix).translate4(positionMatrix, position);
    return positionMatrix;
}
function rotationsMatrixFromAngles(angles, param) {
    var reverseOrder = param === void 0 ? false : param;
    var rotationsMatrix = (0, _matrix).identity4(); ///
    var firstAngle = (0, _array).first(angles), secondAngle = (0, _array).second(angles), thirdAngle = 0, xAngle = firstAngle, yAngle = secondAngle, zAngle = thirdAngle, xAxis = [
        1,
        0,
        0
    ], yAxis = [
        0,
        1,
        0
    ], zAxis = [
        0,
        0,
        1
    ];
    if (reverseOrder) {
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, zAngle, zAxis);
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, yAngle, yAxis);
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, xAngle, xAxis);
    } else {
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, xAngle, xAxis);
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, yAngle, yAxis);
        rotationsMatrix = (0, _matrix).rotate4(rotationsMatrix, zAngle, zAxis);
    }
    return rotationsMatrix;
}
function rotationsMatrixFromRotations(rotations) {
    var scalar = _constants.DEGREES_TO_RADIANS_MULTIPLIER, angles = (0, _vector).scale3(rotations, scalar), rotationsMatrix = rotationsMatrixFromAngles(angles);
    return rotationsMatrix;
}
function normalsMatrixFromRotationsMatrix(rotationsMatrix) {
    var normalsMatrix = (0, _matrix).invert4(rotationsMatrix); ///
    normalsMatrix = (0, _matrix).transpose4(normalsMatrix);
    return normalsMatrix;
}
function projectionMatrixFromCameraAndCanvas(camera, canvas) {
    var zFar = camera.getZFar(), zNear = camera.getZNear(), width = canvas.getWidth(), height = canvas.getHeight(), fieldOfView = camera.getFieldOfView(), aspectRatio = width / height, projectionMatrix = (0, _matrix).perspective4(fieldOfView, aspectRatio, zNear, zFar);
    return projectionMatrix;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvbWF0cml4LmpzIl0sIm5hbWVzIjpbInNjYWxlMyIsImZpcnN0Iiwic2Vjb25kIiwiREVHUkVFU19UT19SQURJQU5TX01VTFRJUExJRVIiLCJpZGVudGl0eTQiLCJzY2FsZTQiLCJpbnZlcnQ0Iiwicm90YXRlNCIsInRyYW5zbGF0ZTQiLCJ0cmFuc3Bvc2U0IiwicGVyc3BlY3RpdmU0Iiwic2NhbGVNYXRyaXhGcm9tU2NhbGUiLCJzY2FsZSIsInNjYWxlTWF0cml4Iiwib2Zmc2V0c01hdHJpeEZyb21PZmZzZXRzIiwib2Zmc2V0cyIsIm9mZnNldHNNYXRyaXgiLCJwb3NpdGlvbk1hdHJpeEZyb21Ob3RoaW5nIiwicG9zaXRpb25NYXRyaXgiLCJwb3NpdGlvbk1hdHJpeEZyb21EaXN0YW5jZSIsImRpc3RhbmNlIiwieCIsInkiLCJ6IiwicG9zaXRpb25NYXRyaXhGcm9tUG9zaXRpb24iLCJwb3NpdGlvbiIsInJvdGF0aW9uc01hdHJpeEZyb21BbmdsZXMiLCJhbmdsZXMiLCJyZXZlcnNlT3JkZXIiLCJyb3RhdGlvbnNNYXRyaXgiLCJmaXJzdEFuZ2xlIiwic2Vjb25kQW5nbGUiLCJ0aGlyZEFuZ2xlIiwieEFuZ2xlIiwieUFuZ2xlIiwiekFuZ2xlIiwieEF4aXMiLCJ5QXhpcyIsInpBeGlzIiwicm90YXRpb25zTWF0cml4RnJvbVJvdGF0aW9ucyIsInJvdGF0aW9ucyIsInNjYWxhciIsIm5vcm1hbHNNYXRyaXhGcm9tUm90YXRpb25zTWF0cml4Iiwibm9ybWFsc01hdHJpeCIsInByb2plY3Rpb25NYXRyaXhGcm9tQ2FtZXJhQW5kQ2FudmFzIiwiY2FtZXJhIiwiY2FudmFzIiwiekZhciIsImdldFpGYXIiLCJ6TmVhciIsImdldFpOZWFyIiwid2lkdGgiLCJnZXRXaWR0aCIsImhlaWdodCIsImdldEhlaWdodCIsImZpZWxkT2ZWaWV3IiwiZ2V0RmllbGRPZlZpZXciLCJhc3BlY3RSYXRpbyIsInByb2plY3Rpb25NYXRyaXgi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QyxTQUFTLElBQ3pCLFdBQVcsR0FBRyxNQUFNLENBQUMsY0FBYyxJQUNuQyxXQUFXLEdBQUssS0FBSyxHQUFHLE1BQU0sRUFDOUIsZ0JBQWdCLE9BN0ZrRSxPQUFpQixlQTZGbkUsV0FBVyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsSUFBSTtJQUUzRSxNQUFNLENBQUMsZ0JBQWdCO0FBQ3pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgc2NhbGUzIH0gZnJvbSBcIi4uL21hdGhzL3ZlY3RvclwiO1xuaW1wb3J0IHsgZmlyc3QsIHNlY29uZCB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXJyYXlcIjtcbmltcG9ydCB7IERFR1JFRVNfVE9fUkFESUFOU19NVUxUSVBMSUVSIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaWRlbnRpdHk0LCBzY2FsZTQsIGludmVydDQsIHJvdGF0ZTQsIHRyYW5zbGF0ZTQsIHRyYW5zcG9zZTQsIHBlcnNwZWN0aXZlNCB9IGZyb20gXCIuLi9tYXRocy9tYXRyaXhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlTWF0cml4RnJvbVNjYWxlKHNjYWxlKSB7XG4gIGxldCBzY2FsZU1hdHJpeCA9IGlkZW50aXR5NCgpO1xuXG4gIHNjYWxlTWF0cml4ID0gc2NhbGU0KHNjYWxlTWF0cml4LCBzY2FsZSk7XG5cbiAgcmV0dXJuIHNjYWxlTWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0c01hdHJpeEZyb21PZmZzZXRzKG9mZnNldHMpIHtcbiAgbGV0IG9mZnNldHNNYXRyaXggPSBpZGVudGl0eTQoKTsgLy8vXG5cbiAgb2Zmc2V0c01hdHJpeCA9IHRyYW5zbGF0ZTQob2Zmc2V0c01hdHJpeCwgb2Zmc2V0cyk7XG5cbiAgcmV0dXJuIG9mZnNldHNNYXRyaXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3NpdGlvbk1hdHJpeEZyb21Ob3RoaW5nKCkge1xuICBsZXQgcG9zaXRpb25NYXRyaXggPSBpZGVudGl0eTQoKTsgLy8vXG5cbiAgcmV0dXJuIHBvc2l0aW9uTWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9zaXRpb25NYXRyaXhGcm9tRGlzdGFuY2UoZGlzdGFuY2UpIHtcbiAgbGV0IHBvc2l0aW9uTWF0cml4ID0gaWRlbnRpdHk0KCk7IC8vL1xuXG4gIGNvbnN0IHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgeiA9IC1kaXN0YW5jZTtcblxuICBwb3NpdGlvbk1hdHJpeCA9IHRyYW5zbGF0ZTQocG9zaXRpb25NYXRyaXgsIFsgeCwgeSwgeiBdKTtcblxuICByZXR1cm4gcG9zaXRpb25NYXRyaXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3NpdGlvbk1hdHJpeEZyb21Qb3NpdGlvbihwb3NpdGlvbikge1xuICBsZXQgcG9zaXRpb25NYXRyaXggPSBpZGVudGl0eTQoKTsgLy8vXG5cbiAgcG9zaXRpb25NYXRyaXggPSB0cmFuc2xhdGU0KHBvc2l0aW9uTWF0cml4LCBwb3NpdGlvbik7XG5cbiAgcmV0dXJuIHBvc2l0aW9uTWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRpb25zTWF0cml4RnJvbUFuZ2xlcyhhbmdsZXMsIHJldmVyc2VPcmRlciA9IGZhbHNlKSB7XG4gIGxldCByb3RhdGlvbnNNYXRyaXggPSBpZGVudGl0eTQoKTsgLy8vXG5cbiAgY29uc3QgZmlyc3RBbmdsZSA9IGZpcnN0KGFuZ2xlcyksXG4gICAgICAgIHNlY29uZEFuZ2xlID0gc2Vjb25kKGFuZ2xlcyksXG4gICAgICAgIHRoaXJkQW5nbGUgPSAwLCAvLy9cbiAgICAgICAgeEFuZ2xlID0gZmlyc3RBbmdsZSwgIC8vLy9cbiAgICAgICAgeUFuZ2xlID0gc2Vjb25kQW5nbGUsIC8vL1xuICAgICAgICB6QW5nbGUgPSB0aGlyZEFuZ2xlLCAgLy8vXG4gICAgICAgIHhBeGlzID0gWyAxLCAwLCAwIF0sXG4gICAgICAgIHlBeGlzID0gWyAwLCAxLCAwIF0sXG4gICAgICAgIHpBeGlzID0gWyAwLCAwLCAxIF07XG5cbiAgaWYgKHJldmVyc2VPcmRlcikge1xuICAgIHJvdGF0aW9uc01hdHJpeCA9IHJvdGF0ZTQocm90YXRpb25zTWF0cml4LCB6QW5nbGUsIHpBeGlzKTtcbiAgICByb3RhdGlvbnNNYXRyaXggPSByb3RhdGU0KHJvdGF0aW9uc01hdHJpeCwgeUFuZ2xlLCB5QXhpcyk7XG4gICAgcm90YXRpb25zTWF0cml4ID0gcm90YXRlNChyb3RhdGlvbnNNYXRyaXgsIHhBbmdsZSwgeEF4aXMpO1xuICB9IGVsc2Uge1xuICAgIHJvdGF0aW9uc01hdHJpeCA9IHJvdGF0ZTQocm90YXRpb25zTWF0cml4LCB4QW5nbGUsIHhBeGlzKTtcbiAgICByb3RhdGlvbnNNYXRyaXggPSByb3RhdGU0KHJvdGF0aW9uc01hdHJpeCwgeUFuZ2xlLCB5QXhpcyk7XG4gICAgcm90YXRpb25zTWF0cml4ID0gcm90YXRlNChyb3RhdGlvbnNNYXRyaXgsIHpBbmdsZSwgekF4aXMpO1xuICB9XG5cbiAgcmV0dXJuIHJvdGF0aW9uc01hdHJpeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0aW9uc01hdHJpeEZyb21Sb3RhdGlvbnMocm90YXRpb25zKSB7XG4gIGNvbnN0IHNjYWxhciA9IERFR1JFRVNfVE9fUkFESUFOU19NVUxUSVBMSUVSLCAvLy9cbiAgICAgICAgYW5nbGVzID0gc2NhbGUzKHJvdGF0aW9ucywgc2NhbGFyKSxcbiAgICAgICAgcm90YXRpb25zTWF0cml4ID0gcm90YXRpb25zTWF0cml4RnJvbUFuZ2xlcyhhbmdsZXMpO1xuXG4gIHJldHVybiByb3RhdGlvbnNNYXRyaXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxzTWF0cml4RnJvbVJvdGF0aW9uc01hdHJpeChyb3RhdGlvbnNNYXRyaXgpIHtcbiAgbGV0IG5vcm1hbHNNYXRyaXggPSBpbnZlcnQ0KHJvdGF0aW9uc01hdHJpeCk7IC8vL1xuXG4gIG5vcm1hbHNNYXRyaXggPSB0cmFuc3Bvc2U0KG5vcm1hbHNNYXRyaXgpO1xuXG4gIHJldHVybiBub3JtYWxzTWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbk1hdHJpeEZyb21DYW1lcmFBbmRDYW52YXMoY2FtZXJhLCBjYW52YXMpIHtcbiAgY29uc3QgekZhciA9IGNhbWVyYS5nZXRaRmFyKCksXG4gICAgICAgIHpOZWFyID0gY2FtZXJhLmdldFpOZWFyKCksXG4gICAgICAgIHdpZHRoID0gY2FudmFzLmdldFdpZHRoKCksXG4gICAgICAgIGhlaWdodCA9IGNhbnZhcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgZmllbGRPZlZpZXcgPSBjYW1lcmEuZ2V0RmllbGRPZlZpZXcoKSxcbiAgICAgICAgYXNwZWN0UmF0aW8gPSAoIHdpZHRoIC8gaGVpZ2h0ICksXG4gICAgICAgIHByb2plY3Rpb25NYXRyaXggPSBwZXJzcGVjdGl2ZTQoZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCB6TmVhciwgekZhcik7XG5cbiAgcmV0dXJuIHByb2plY3Rpb25NYXRyaXg7XG59XG4iXX0=