"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.preloadImages = preloadImages;
exports.preloadImageMap = preloadImageMap;
exports.default = void 0;
var _necessary = require("necessary");
var _constants = require("../constants");
var _defaults = require("../defaults");
var forEach = _necessary.asynchronousUtilities.forEach;
function preloadImages(callback) {
    var configuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : window.__configuration__;
    var done = function done() {
        var images = context.images;
        callback(images, imageNames);
    };
    var _host = configuration.host, host = _host === void 0 ? _defaults.DEFAULT_HOST : _host, imageNames = configuration.imageNames, imageDirectoryURI = configuration.imageDirectoryURI, images1 = [], context = {
        images: images1
    };
    forEach(imageNames, function(imageName, next, done, context) {
        var onload = function onload() {
            images1.push(image);
            next();
        };
        var src = "".concat(host).concat(imageDirectoryURI, "/").concat(imageName), image = new Image(), crossOrigin = _constants.ANONYMOUS;
        Object.assign(image, {
            src: src,
            onload: onload,
            crossOrigin: crossOrigin
        });
    }, done, context);
}
function preloadImageMap(callback) {
    var configuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : window.__configuration__;
    var onload = function onload(event) {
        callback(imageMap, imageMapJSON);
    };
    var _host = configuration.host, host = _host === void 0 ? _defaults.DEFAULT_HOST : _host, imageMapURI = configuration.imageMapURI, imageMapJSON = configuration.imageMapJSON, src = "".concat(host).concat(imageMapURI), imageMap = new Image(), crossOrigin = _constants.ANONYMOUS; ///
    Object.assign(imageMap, {
        src: src,
        onload: onload,
        crossOrigin: crossOrigin
    });
}
var _default = {
    preloadImages: preloadImages,
    preloadImageMap: preloadImageMap
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcHJlbG9hZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXN5bmNocm9ub3VzVXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgeyBBTk9OWU1PVVMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBERUZBVUxUX0hPU1QgfSBmcm9tIFwiLi4vZGVmYXVsdHNcIjtcblxuY29uc3QgeyBmb3JFYWNoIH0gPSBhc3luY2hyb25vdXNVdGlsaXRpZXM7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uID0gd2luZG93Ll9fY29uZmlndXJhdGlvbl9fKSB7IC8vL1xuICBjb25zdCB7IGhvc3QgPSBERUZBVUxUX0hPU1QsIGltYWdlTmFtZXMsIGltYWdlRGlyZWN0b3J5VVJJIH0gPSBjb25maWd1cmF0aW9uLFxuICAgICAgICBpbWFnZXMgPSBbXSxcbiAgICAgICAgY29udGV4dCA9IHtcbiAgICAgICAgICBpbWFnZXNcbiAgICAgICAgfTtcblxuICBmb3JFYWNoKGltYWdlTmFtZXMsIChpbWFnZU5hbWUsIG5leHQsIGRvbmUsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBzcmMgPSBgJHtob3N0fSR7aW1hZ2VEaXJlY3RvcnlVUkl9LyR7aW1hZ2VOYW1lfWAsXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgICBjcm9zc09yaWdpbiA9IEFOT05ZTU9VUztcblxuICBPYmplY3QuYXNzaWduKGltYWdlLCB7XG4gICAgICBzcmMsXG4gICAgICBvbmxvYWQsXG4gICAgICBjcm9zc09yaWdpblxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25sb2FkKCkge1xuICAgICAgaW1hZ2VzLnB1c2goaW1hZ2UpO1xuXG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9LCBkb25lLCBjb250ZXh0KTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGNvbnN0IHsgaW1hZ2VzIH0gPSBjb250ZXh0O1xuXG4gICAgY2FsbGJhY2soaW1hZ2VzLCBpbWFnZU5hbWVzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZEltYWdlTWFwKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uID0gd2luZG93Ll9fY29uZmlndXJhdGlvbl9fKSB7IC8vL1xuICBjb25zdCB7IGhvc3QgPSBERUZBVUxUX0hPU1QsIGltYWdlTWFwVVJJLCBpbWFnZU1hcEpTT04gfSA9IGNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHNyYyA9IGAke2hvc3R9JHtpbWFnZU1hcFVSSX1gLFxuICAgICAgICBpbWFnZU1hcCA9IG5ldyBJbWFnZSgpLFx0Ly8vXG4gICAgICAgIGNyb3NzT3JpZ2luID0gQU5PTllNT1VTOyAgLy8vXG5cbiAgT2JqZWN0LmFzc2lnbihpbWFnZU1hcCwge1xuICAgIHNyYyxcbiAgICBvbmxvYWQsXG4gICAgY3Jvc3NPcmlnaW5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gb25sb2FkKGV2ZW50KSB7XG4gICAgY2FsbGJhY2soaW1hZ2VNYXAsIGltYWdlTWFwSlNPTik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBwcmVsb2FkSW1hZ2VzLFxuICBwcmVsb2FkSW1hZ2VNYXBcbn07XG4iXSwibmFtZXMiOlsicHJlbG9hZEltYWdlcyIsInByZWxvYWRJbWFnZU1hcCIsImZvckVhY2giLCJhc3luY2hyb25vdXNVdGlsaXRpZXMiLCJjYWxsYmFjayIsImNvbmZpZ3VyYXRpb24iLCJ3aW5kb3ciLCJfX2NvbmZpZ3VyYXRpb25fXyIsImRvbmUiLCJpbWFnZXMiLCJjb250ZXh0IiwiaW1hZ2VOYW1lcyIsImhvc3QiLCJERUZBVUxUX0hPU1QiLCJpbWFnZURpcmVjdG9yeVVSSSIsImltYWdlTmFtZSIsIm5leHQiLCJvbmxvYWQiLCJwdXNoIiwiaW1hZ2UiLCJzcmMiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiQU5PTllNT1VTIiwiT2JqZWN0IiwiYXNzaWduIiwiZXZlbnQiLCJpbWFnZU1hcCIsImltYWdlTWFwSlNPTiIsImltYWdlTWFwVVJJIl0sIm1hcHBpbmdzIjoiQUFBQSxDQUFZOzs7O1FBU0lBLGFBQWEsR0FBYkEsYUFBYTtRQWdDYkMsZUFBZSxHQUFmQSxlQUFlOztBQXZDTyxHQUFXLENBQVgsVUFBVztBQUV2QixHQUFjLENBQWQsVUFBYztBQUNYLEdBQWEsQ0FBYixTQUFhO0FBRTFDLEdBQUssQ0FBR0MsT0FBTyxHQUFLQyxVQUFxQix1QkFBakNELE9BQU87U0FFQ0YsYUFBYSxDQUFDSSxRQUFRLEVBQTRDLENBQUM7UUFBM0NDLGFBQWEsb0VBQUdDLE1BQU0sQ0FBQ0MsaUJBQWlCO1FBeUJyRUMsSUFBSSxHQUFiLFFBQVEsQ0FBQ0EsSUFBSSxHQUFHLENBQUM7UUFDZixHQUFLLENBQUdDLE1BQU0sR0FBS0MsT0FBTyxDQUFsQkQsTUFBTTtRQUVkTCxRQUFRLENBQUNLLE1BQU0sRUFBRUUsVUFBVTtJQUM3QixDQUFDO0lBNUJELEdBQUssU0FBMEROLGFBQWEsQ0FBcEVPLElBQUksRUFBSkEsSUFBSSxzQkFBR0MsU0FBWSx1QkFBRUYsVUFBVSxHQUF3Qk4sYUFBYSxDQUEvQ00sVUFBVSxFQUFFRyxpQkFBaUIsR0FBS1QsYUFBYSxDQUFuQ1MsaUJBQWlCLEVBQ3BETCxPQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQ1hDLE9BQU8sR0FBRyxDQUFDO1FBQ1RELE1BQU0sRUFBTkEsT0FBTTtJQUNSLENBQUM7SUFFUFAsT0FBTyxDQUFDUyxVQUFVLEVBQUUsUUFBUSxDQUFQSSxTQUFTLEVBQUVDLElBQUksRUFBRVIsSUFBSSxFQUFFRSxPQUFPLEVBQUssQ0FBQztZQVc5Q08sTUFBTSxHQUFmLFFBQVEsQ0FBQ0EsTUFBTSxHQUFHLENBQUM7WUFDakJSLE9BQU0sQ0FBQ1MsSUFBSSxDQUFDQyxLQUFLO1lBRWpCSCxJQUFJO1FBQ04sQ0FBQztRQWRELEdBQUssQ0FBQ0ksR0FBRyxHQUFJLENBQUEsRUFBU04sTUFBaUIsQ0FBeEJGLElBQUksRUFBd0JHLE1BQVMsQ0FBOUJELGlCQUFpQixFQUFDLENBQUMsSUFBWSxNQUFBLENBQVZDLFNBQVMsR0FDOUNJLEtBQUssR0FBRyxHQUFHLENBQUNFLEtBQUssSUFDakJDLFdBQVcsR0FBR0MsVUFBUztRQUUvQkMsTUFBTSxDQUFDQyxNQUFNLENBQUNOLEtBQUssRUFBRSxDQUFDO1lBQ2xCQyxHQUFHLEVBQUhBLEdBQUc7WUFDSEgsTUFBTSxFQUFOQSxNQUFNO1lBQ05LLFdBQVcsRUFBWEEsV0FBVztRQUNiLENBQUM7SUFPSCxDQUFDLEVBQUVkLElBQUksRUFBRUUsT0FBTztBQU9sQixDQUFDO1NBRWVULGVBQWUsQ0FBQ0csUUFBUSxFQUE0QyxDQUFDO1FBQTNDQyxhQUFhLG9FQUFHQyxNQUFNLENBQUNDLGlCQUFpQjtRQVl2RVUsTUFBTSxHQUFmLFFBQVEsQ0FBQ0EsTUFBTSxDQUFDUyxLQUFLLEVBQUUsQ0FBQztRQUN0QnRCLFFBQVEsQ0FBQ3VCLFFBQVEsRUFBRUMsWUFBWTtJQUNqQyxDQUFDO0lBYkQsR0FBSyxTQUFzRHZCLGFBQWEsQ0FBaEVPLElBQUksRUFBSkEsSUFBSSxzQkFBR0MsU0FBWSx1QkFBRWdCLFdBQVcsR0FBbUJ4QixhQUFhLENBQTNDd0IsV0FBVyxFQUFFRCxZQUFZLEdBQUt2QixhQUFhLENBQTlCdUIsWUFBWSxFQUNoRFIsR0FBRyxHQUFJLENBQUEsRUFBU1MsTUFBVyxDQUFsQmpCLElBQUksRUFBZSxNQUFBLENBQVppQixXQUFXLEdBQzNCRixRQUFRLEdBQUcsR0FBRyxDQUFDTixLQUFLLElBQ3BCQyxXQUFXLEdBQUdDLFVBQVMsV0FBRyxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7SUFFbkNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDRSxRQUFRLEVBQUUsQ0FBQztRQUN2QlAsR0FBRyxFQUFIQSxHQUFHO1FBQ0hILE1BQU0sRUFBTkEsTUFBTTtRQUNOSyxXQUFXLEVBQVhBLFdBQVc7SUFDYixDQUFDO0FBS0gsQ0FBQztlQUVjLENBQUM7SUFDZHRCLGFBQWEsRUFBYkEsYUFBYTtJQUNiQyxlQUFlLEVBQWZBLGVBQWU7QUFDakIsQ0FBQyJ9